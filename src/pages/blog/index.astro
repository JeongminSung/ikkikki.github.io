---
import { SITE } from "@config";
import { getCollection } from "astro:content";
import Blogs from "@/layouts/Blogs.astro";
import getPageNumbers from "@/utils/getPageNumber";
import getSortedPosts from "@/utils/getSortedPosts";
const posts = await getCollection("blog");
const sortedPosts = getSortedPosts(posts);
const totalPages = getPageNumbers(sortedPosts.length);
const paginatedPosts = sortedPosts.slice(0, SITE.postPerPage);
---

<Blogs posts={paginatedPosts} pageNum={1} totalPages={totalPages.length} />
